---
title: '[ASAC 5기 OnePoint] Docker 와 CI/CD 절차 그리고 Github Action'
layout: single
categories:
  - ASAC
  - OnePoint
tags:
  - ASAC 5기
  - OnePoint
  - Docker
date: 2024-05-07 23:00:00 +0900
last_modified_at: 2024-05-08 16:23:00 +0900
---

# ASAC 5기 OnePoint - 웹 개발 기본 이론 06-02. Docker 와 CI/CD 절차 그리고 Github Action

## 1 웹 개발자는 왜 도커 Docker 를 사용할까?

### 💡 도커 Docker 란?

도커 Docker 는 애플리케이션을 빌드, 테스트, 배포할 수 있는 오픈 소스 가상화 플랫폼입니다. 도커는 리눅스 컨테이너를 기반으로 하여 애플리케이션 실행에 필요한 라이브러리, 도구, 환경 등 모든 것을 패키징하여 컨테이너 단위로 관리할 수 있습니다. 개발자는 컨테이너의 격리된 환경에서 애플리케이션 구동의 일관성을 유지하고, 다중 컨테이너를 활용한 마이크로서비스 아키텍처를 구축할 수 있습니다.

### 💡 컨테이너 격리 Isolation 와 애플리케이션 일관성 Consistency

애플리케이션은 구동하기 위한 머신과 라이브러리, 도구, 환경 등 여러 요소들이 필요합니다. 이러한 요소들은 서로 의존성을 가지고 있어, 서로 충돌이 발생할 수 있습니다. 도커는 이러한 의존성을 격리하여 컨테이너 단위로 관리합니다. 이를 통해 애플리케이션 구동의 일관성을 유지할 수 있습니다.

### 💡 다중 컨테이너 Multi-Container 와 다양한 애플리케이션 조합

도커 다중 컨테이너를 활용하면 다양한 애플리케이션을 조합하여 원하는 서버를 구축할 수 있습니다. 웹 서버를 제공하는 업체들은 가상 인스턴스 서버, 데이터베이스 서버, 로그 서버, 캐시 서버 등 다양한 애플리케이션 서버를 제공하고 있습니다. 애플리케이션 별로 도커 컨테이너를 생성하고 연결하여 다중 컨테이너로 구성하면, 하나의 서버에서 원하는 서비스를 조합하여 제공할 수 있습니다.

### 💡 도커는 어떻게 애플리케이션을 격리된 환경에서 실행할 수 있는가?

도커는 리눅스 컨테이너 Linux Container 를 기반으로 하여 리눅스 커널 위에서 가상화 기술을 사용합니다. 리눅스는 컨트롤 그룹 cgroup, 네임스페이스 namespace 등을 활용하여 격리된 공간에서 프로세스가 동작하는 기능을 제공합니다. 컨트롤 그룹은 CPU, 메모리 등의 시스템 리소스를 제한하고 분리하는 기능을 제공합니다. 네임스페이스는 프로세스에 대해 파일 시스템, 네트워킹, 사용자 ID 등을 독립적으로 관리하는 기능을 제공합니다.

### 💡 도커 컨테이너 Container 는 어떻게 동작하는가?

도커 컨테이너는 애플리케이션 실행에 필요한 바이너리 실행파일과 라이브러리, 도구, 환경 등 모든 것이 패키징되어 있습니다. 도커 엔진 Docker Engine 은 호스트 운영체제 Host OS 를 통해 CPU, 메모리 등의 시스템 리소스를 할당받아 도커 컨테이너를 실행하고 관리합니다. 이를 통해 컨테이너는 애플리케이션 실행에 필요한 최소한의 리소스만을 사용하여 가볍고 빠르게 실행됩니다.

### 💡 가상머신 Virtual Machine 은 어떻게 동작하는가?

가상머신 Virtual Machine 은 단일 하드웨어에서 여러 개의 운영체제를 실행할 수 있게 해주는 가상화 기술입니다. 운영체제는 물리적인 시스템인 하드웨어의 리소스를 사용하기 위한 인터페이스입니다. 가상머신은 하이퍼바이저 Hypervisor 를 사용하여 하드웨어를 가상화하여 여러 개의 게스트 운영체제 Guest OS 에 시스템 리소스를 할당하여 실행합니다.

### 💡 도커 컨테이너와 가상머신의 차이점은 무엇인가?

가상머신도 컨테이너도 가상화 기술을 통해 애플리케이션 실행에 필요한 격리된 환경을 제공합니다. 그러나 가상머신은 개별 애플리케이션 실행에 필요한 운영체제를 포함하여 가상화하므로, 무겁고 느리게 실행됩니다. 반면, 도커 컨테이너는 호스트 운영체제의 리소스를 공유하여 가볍고 빠르게 실행됩니다.

## 2 도커 컨테이너는 어떻게 생성하고 관리하는가?

### 💡 도커 컨테이너 생성 방법

도커 컨테이너는 도커 이미지 Docker Image 를 기반으로 생성됩니다. 이미지는 컨테이너를 생성하기 위한 파일과 설정을 포함하고 있습니다. 도커 레지스트리 Docker Registry 에 공개된 이미지를 사용하거나, 직접 빌드한 이미지를 사용하여 컨테이너를 생성할 수 있습니다.

### 💡 도커 파일 Docker File 만들기

도커 이미지 Docker Image 는 도커 파일 Dockerfile 을 기반으로 빌드됩니다. 도커 파일은 컨테이너를 생성하기 위한 명령어와 설정을 포함하고 있습니다. 도커 파일은 선언형 Declarative 언어로 작성되어있으며, 최종적으로 어떻게 컨테이너가 구성되어야하는지를 기술합니다. 명령형 Imperative 언어인 도커 명령어를 통해 도커 파일이 실행되어야 도커 이미지가 빌드됩니다.

### 💡 도커 이미지 Docker Image 만들기

도커 명령어를 통해 도커 파일을 사용하여 도커 이미지를 빌드할 수 있습니다. 도커 이미지는 빌드 과정에서 도커 파일의 각 명령어마다 캐시를 사용하여 레이어를 생성합니다. 이를 통해 이미지의 변경 사항이 발생할 때 변경된 부분만 새로운 레이어로 생성하여 이미지를 빠르게 빌드할 수 있습니다.

### 💡 도커 이미지를 사용하여 도커 컨테이너 생성하기

도커 명령어를 사용해 도커 이미지에서 도커 컨테이너를 생성하고 관리할 수 있습니다. 도커 명령어는 `docker [주어] [서브 명령어] [옵션] [인자]` 형식으로 사용합니다. 도커 이미지에서 도커 컨테이너를 생성할 경우 `docker container create 이미지명` 명령어를 사용합니다. 컨테이너의 경우 `container`를 생략하고 서브 명령어를 사용할 수 있습니다.

### 💡 도커 컴포즈 Docker-compose 를 사용하여 다중 컨테이너 애플리케이션 관리하기

도커 컴포즈 Docker-compose 는 여러 개의 컨테이너로 구성된 애플리케이션을 정의하고 실행하는 도구입니다. 도커 컴포즈는 YAML 파일을 사용하여 여러 개의 컨테이너로 구성된 애플리케이션을 정의하고 실행할 수 있습니다. 이를 통해 컨테이너 간의 의존성, 네트워크, 볼륨 등을 설정하여 애플리케이션을 쉽게 관리할 수 있습니다.
